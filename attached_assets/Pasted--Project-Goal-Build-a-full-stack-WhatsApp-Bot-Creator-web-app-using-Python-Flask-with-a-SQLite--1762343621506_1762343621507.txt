üß† Project Goal:
Build a full-stack WhatsApp Bot Creator web app using Python (Flask) with a SQLite database and a Progressive Web App (PWA) frontend.

The app lets users create simple WhatsApp chatbots that respond to incoming messages via a local WhatsApp bridge (WPPConnect).

I want this app to be production-ready and runnable inside Replit‚Äôs environment.

‚öôÔ∏è Backend Requirements (Python + Flask)

Use Flask as the main backend framework.

Use SQLite via SQLAlchemy for all data storage.

Create models:

User ‚Üí id, username, password_hash, date_created

Bot ‚Üí id, user_id, name, fallback_message, active

Rule ‚Üí id, bot_id, keyword, response

MessageLog ‚Üí id, bot_id, sender, direction, message, timestamp

Implement authentication (register, login, logout) but no password reset and no email notifications.

Store passwords securely with werkzeug.security.generate_password_hash and check_password_hash.

Logged-in users can:

Create, edit, and delete their bots.

Add and manage keyword/response rules per bot.

View inline success/error messages (no JS popups or alerts).

Create API endpoint /api/get_response to handle WhatsApp message input:

Accept JSON { "sender": "...", "message": "..." }

Return { "response": "..." } based on bot rules or fallback message.

Use MessageLog table to store incoming and outgoing messages.

Include a simple /analytics page to show message stats per bot.

Initialize DB automatically on first run.

Structure Flask app with blueprints:

/models
/routes
/templates
/static


Serve static files properly.

üñºÔ∏è Frontend Requirements (PWA + Bootstrap)

Use Bootstrap 5 for styling.

Implement a Progressive Web App (PWA):

Add manifest.webmanifest

Add service worker that caches assets for offline use.

Include maskable icons (icon-192.png, icon-512.png, maskable-icon.png) in /static/icons.

Use inline <div class="alert alert-success"> messages for user feedback (no JavaScript alert boxes or modals).

Create main templates:

base.html ‚Üí layout, navbar, manifest + service worker link

index.html ‚Üí login/register

dashboard.html ‚Üí user‚Äôs bots list, add bot form, inline alerts

analytics.html ‚Üí message stats

Include automatic fade-out for alerts after 3 seconds.

üß© WhatsApp Gateway (Free Integration)

Create a separate folder bot_gateway/ with:

bot.js using WPPConnect (Node.js).

It should listen for messages and call the Flask endpoint /api/get_response.

Example:

const wppconnect = require('wppconnect');
const axios = require('axios');

wppconnect.create().then(client => {
  console.log('‚úÖ WhatsApp connected');
  client.onMessage(async message => {
    if (!message.isGroupMsg) {
      const res = await axios.post('http://127.0.0.1:5000/api/get_response', {
        sender: message.from,
        message: message.body
      });
      await client.sendText(message.from, res.data.response);
    }
  });
});


Add a package.json file for the Node project with dependencies:
{ "dependencies": { "wppconnect": "^2.6.0", "axios": "^1.6.0" } }

Include setup instructions in README.md for running both the Flask backend and Node gateway simultaneously (two repls if needed).

üì± PWA Assets

Create /static/manifest.webmanifest:

{
  "name": "WhatsApp Bot Creator",
  "short_name": "WA Bot",
  "start_url": "/",
  "display": "standalone",
  "background_color": "#ffffff",
  "theme_color": "#1c6ef2",
  "icons": [
    { "src": "/static/icons/icon-192.png", "sizes": "192x192", "type": "image/png" },
    { "src": "/static/icons/icon-512.png", "sizes": "512x512", "type": "image/png" },
    { "src": "/static/icons/maskable-icon.png", "sizes": "512x512", "type": "image/png", "purpose": "maskable" }
  ]
}


Create /static/js/service-worker.js to cache essential files:

const CACHE_NAME = 'wa-bot-cache-v1';
const ASSETS = ['/', '/static/css/styles.css', '/static/js/sw-register.js'];

self.addEventListener('install', e => {
  e.waitUntil(caches.open(CACHE_NAME).then(c => c.addAll(ASSETS)));
});

self.addEventListener('fetch', e => {
  e.respondWith(caches.match(e.request).then(r => r || fetch(e.request)));
});


Create /static/js/sw-register.js:

if ('serviceWorker' in navigator) {
  window.addEventListener('load', () => {
    navigator.serviceWorker.register('/static/js/service-worker.js');
  });
}

üß≠ Extra Details

Use inline flash messages instead of modals/popup alerts.

Automatically clear alerts after 3 seconds.

Add favicon links and PWA meta tags in <head>.

Include a README.md explaining setup and usage:

How to run Flask server.

How to run Node WhatsApp bridge.

How to use Ngrok for public webhook URLs.

Optimize folder layout for Replit‚Äôs file tree.

üßæ Deliverables

When finished, Replit should generate:

A working Flask web app accessible at Replit‚Äôs web URL.

SQLite database initialized automatically.

PWA installable (add to home screen).

Inline Bootstrap alerts.

Node.js bot gateway folder ready to use for WhatsApp integration.

‚ö° Final Note for Replit AI:

Please write clean, modular code with explanatory comments.

Use secure defaults and minimal dependencies.

Don‚Äôt include any popups or modal dialogs; only inline feedback messages.

Make sure /static/manifest.webmanifest and service worker work correctly for offline installation.